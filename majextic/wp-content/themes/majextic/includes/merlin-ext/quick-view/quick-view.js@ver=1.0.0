(function($){'use strict';var sliderFinalWidth=400,maxQuickWidth=900;$(document).on('click','.majextic-btn-quickview',function(e){e.preventDefault();addStyle();let $button=$(this),productID=$button.data('id'),$popup=$(`#majextic-quick-view-product-${productID}`)
$button.addClass('progressing');if($popup.length>0){$popup.addClass('open');$button.removeClass('progressing');}else{$.ajax({url:majexticVariable.ajaxurl,type:'GET',data:{action:'majextic_product_quick_view',pid:productID},dataType:'json',cache:true,success:function(results){let $popup=$(results.template);$popup.addClass('open');$('body').append($popup);setupCarousel($popup.find('.woocommerce-product-gallery'))},complete:function(){$button.removeClass('progressing');}});}})
function addStyle(){let $wrapcss=$('#majextic-quickview');if($wrapcss.length<=0){$('body').append('<link rel="stylesheet" id="majextic-quickview" href="'+majexticVariable.quick_view_css+'">');}}
function setupCarousel(selector){if(typeof elementorFrontendConfig==='undefined'){return;}
if(typeof elementorFrontendConfig.kit==='undefined')
return;var kit=elementorFrontendConfig.kit;var settingCarousel={slidesPerGroup:1,slidesPerView:1,spaceBetween:0,handleElementorBreakpoints:false,watchSlidesVisibility:true,breakpoints:{}}
var $container=$(selector);var lightbox=$container.find('.woocommerce-product-gallery__image > a');if(lightbox.length){lightbox.attr("data-elementor-open-lightbox","no");lightbox.on('click',function(e){e.preventDefault();})}
$container.append('<div class="single-product-carousel"><div class="swiper-container"></div></div>');if(kit.woo_carousel_navigation==='dots'||kit.woo_carousel_navigation==='both'){$container.addClass('elementor-dots-style-2').find('.single-product-carousel').append('<div class="swiper-pagination"></div>');settingCarousel.pagination={el:$container.find('.swiper-pagination'),type:'bullets',clickable:true,};}
if(kit.woo_carousel_navigation==='arrows'||kit.woo_carousel_navigation==='both'){$container.append('<div class="elementor-swiper-button elementor-swiper-button-prev"><i class="eicon-chevron-left" aria-hidden="true"></i><span class="elementor-screen-only">Previous</span></div><div class="elementor-swiper-button elementor-swiper-button-next"><i class="eicon-chevron-right" aria-hidden="true"></i><span class="elementor-screen-only">Next</span></div>');settingCarousel.navigation={prevEl:$container.find('.elementor-swiper-button-prev'),nextEl:$container.find('.elementor-swiper-button-next'),};}
$container.find('.woocommerce-product-gallery__wrapper-carousel').appendTo($container.find('.single-product-carousel .swiper-container'));if($container.find('.woocommerce-product-gallery__image').length>1){$container.find('.woocommerce-product-gallery__wrapper-carousel').addClass('swiper-wrapper').find('>.woocommerce-product-gallery__image').addClass('swiper-slide');var gallery_swiper=new Swiper($container.find('.swiper-container').get(0),settingCarousel)
$container.data('swiper',gallery_swiper);}
$container.addClass('carousel-added');}})(jQuery);